
{
  "entities": {
    "user": {
      "title": "User",
      "description": "Represents a user in the system.",
      "type": "object",
      "properties": {
        "displayName": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "phone": { "type": "string" },
        "pseudo": { "type": "string" },
        "role": { "type": "string", "enum": ["admin", "founder", "member", "creator", "partner", "moderator"] },
        "status": { "type": "string", "enum": ["active", "suspended"] },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "rewardPoints": { "type": "number" },
        "referralCode": { "type": "string" },
        "referredBy": { "type": "string" },
        "referralsCount": { "type": "number" },
        "profileImage": { "type": "string", "format": "uri" },
        "bio": { "type": "string" },
        "isVerified": { "type": "boolean" },
        "onlineStatus": { "type": "string", "enum": ["online", "offline"] },
        "lastLogin": { "type": "string", "format": "date-time" }
      },
      "required": ["displayName", "email", "role", "status", "createdAt", "updatedAt"]
    },
    "wallet": {
      "title": "Wallet",
      "type": "object",
      "properties": {
        "balance": { "type": "number" },
        "currency": { "type": "string" },
        "totalEarned": { "type": "number" },
        "totalSpent": { "type": "number" },
        "status": { "type": "string", "enum": ["active"] }
      },
      "required": ["balance", "currency", "status"]
    },
    "transaction": {
      "title": "Transaction",
      "type": "object",
      "properties": {
        "amount": { "type": "number" },
        "type": { "type": "string", "enum": ["deposit", "withdrawal", "reward", "purchase"] },
        "date": { "type": "string", "format": "date-time" },
        "description": { "type": "string" },
        "status": { "type": "string", "enum": ["pending", "success", "failed"] },
        "reference": { "type": "string" }
      },
      "required": ["amount", "type", "date", "status"]
    },
    "service": {
      "title": "Service (Annonce)",
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "category": { "type": "string" },
        "imageUrl": { "type": "string", "format": "uri" },
        "createdBy": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["active", "hidden"] },
        "location": { "type": "string" },
        "rating": { "type": "number" },
        "views": { "type": "number" }
      },
      "required": ["title", "price", "createdBy", "createdAt"]
    },
    "message": {
      "title": "Message",
      "type": "object",
      "properties": {
        "senderId": { "type": "string" },
        "receiverId": { "type": "string" },
        "message": { "type": "string" },
        "type": { "type": "string", "enum": ["text", "image", "audio"] },
        "createdAt": { "type": "string", "format": "date-time" },
        "isRead": { "type": "boolean" },
        "callType": { "type": "string", "enum": ["none", "voice", "video"]}
      },
      "required": ["senderId", "receiverId", "message", "createdAt"]
    },
    "call": {
        "title": "Call",
        "type": "object",
        "properties": {
            "callerId": { "type": "string" },
            "receiverId": { "type": "string" },
            "type": { "type": "string", "enum": ["voice", "video"]},
            "offer": { "type": "object" },
            "answer": { "type": "object" },
            "status": { "type": "string", "enum": ["ongoing", "ended", "missed"]},
            "timestamp": { "type": "string", "format": "date-time" }
        },
        "required": ["callerId", "receiverId", "type", "status"]
    },
    "live": {
        "title": "Live",
        "type": "object",
        "properties": {
            "hostId": { "type": "string" },
            "title": { "type": "string" },
            "description": { "type": "string" },
            "streamUrl": { "type": "string", "format": "uri" },
            "isPublic": { "type": "boolean" },
            "startTime": { "type": "string", "format": "date-time" },
            "endTime": { "type": "string", "format": "date-time" },
            "viewersCount": { "type": "number" },
            "likes": { "type": "number" },
            "status": { "type": "string", "enum": ["ongoing", "ended"] }
        },
        "required": ["hostId", "title"]
    },
    "reward": {
        "title": "Reward",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "type": { "type": "string", "enum": ["goal", "referral", "sale"]},
            "points": { "type": "number"},
            "description": { "type": "string" },
            "createdAt": { "type": "string", "format": "date-time"}
        },
        "required": ["userId", "type", "points"]
    },
    "referral": {
        "title": "Referral",
        "type": "object",
        "properties": {
            "referrerId": { "type": "string" },
            "referredUserId": { "type": "string" },
            "date": { "type": "string", "format": "date-time"},
            "rewardPoints": { "type": "number" }
        },
        "required": ["referrerId", "referredUserId"]
    },
    "supportTicket": {
        "title": "Support Ticket",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "subject": { "type": "string" },
            "message": { "type": "string" },
            "status": { "type": "string", "enum": ["open", "resolved", "closed"]},
            "createdAt": { "type": "string", "format": "date-time"},
            "adminResponse": { "type": "string" }
        },
        "required": ["userId", "subject", "message", "status"]
    },
    "settings": {
        "title": "Settings",
        "type": "object",
        "properties": {
            "appName": { "type": "string" },
            "version": { "type": "string" },
            "maintenanceMode": { "type": "boolean" },
            "supportEmail": { "type": "string", "format": "email" },
            "contactNumber": { "type": "string" },
            "privacyPolicyUrl": { "type": "string", "format": "uri" },
            "termsUrl": { "type": "string", "format": "uri" }
        }
    },
    "aiAssistant": {
        "title": "AI Assistant",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "prompt": { "type": "string" },
            "response": { "type": "string" },
            "createdAt": { "type": "string", "format": "date-time"}
        }
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com", "password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/user" },
      "description": "Stores user profile information."
    },
    "/wallets/{walletId}": {
      "schema": { "$ref": "#/entities/wallet" },
      "description": "User wallets, where walletId is the same as userId."
    },
    "/wallets/{walletId}/transactions/{transactionId}": {
      "schema": { "$ref": "#/entities/transaction" },
      "description": "Subcollection for wallet transactions."
    },
    "/services/{serviceId}": {
      "schema": { "$ref": "#/entities/service" },
      "description": "Collection of all service advertisements (annonces)."
    },
    "/messages/{messageId}": {
      "schema": { "$ref": "#/entities/message" },
      "description": "Stores all chat messages."
    },
    "/calls/{callId}": {
      "schema": { "$ref": "#/entities/call" },
      "description": "WebRTC signaling server calls."
    },
    "/lives/{liveId}": {
      "schema": { "$ref": "#/entities/live" },
      "description": "Live streaming sessions."
    },
    "/rewards/{rewardId}": {
      "schema": { "$ref": "#/entities/reward" },
      "description": "Tracks rewards given to users."
    },
    "/referrals/{referralId}": {
      "schema": { "$ref": "#/entities/referral" },
      "description": "Tracks user referrals."
    },
    "/supportTickets/{ticketId}": {
      "schema": { "$ref": "#/entities/supportTicket" },
      "description": "Support tickets from users."
    },
    "/settings/{settingId}": {
      "schema": { "$ref": "#/entities/settings" },
      "description": "Global application settings."
    },
    "/aiAssistant/{assistantId}": {
      "schema": { "$ref": "#/entities/aiAssistant" },
      "description": "Logs of AI assistant interactions."
    }
  }
}

    