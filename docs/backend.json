{
  "entities": {
    "user": {
      "title": "User",
      "description": "Represents a user in the system.",
      "type": "object",
      "properties": {
        "fullName": {
          "type": "string",
          "description": "The user's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "phone": {
            "type": "string",
            "description": "User's phone number"
        },
        "role": {
          "type": "string",
          "enum": ["admin", "creator", "member", "partner"],
          "description": "The role of the user."
        },
        "status": {
            "type": "string",
            "enum": ["active", "suspended"]
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL to the user's avatar image."
        },
        "createdAt": { "type": "string", "format": "date-time"},
        "updatedAt": { "type": "string", "format": "date-time"},
        "bio": { "type": "string" },
        "language": { "type": "string", "default": "fr" },
        "walletBalance": { "type": "number" },
        "verified": { "type": "boolean" },
        "referralCode": { "type": "string" },
        "referredBy": { "type": "string" },
        "rewardPoints": { "type": "number" },
        "totalVideoCalls": { "type": "number" },
        "totalPremiumSales": { "type": "number" },
        "totalReferredUsers": { "type": "number" }
      },
      "required": ["role", "email", "fullName"]
    },
    "annonce": {
      "title": "Annonce",
      "description": "An advertisement for a service.",
      "type": "object",
      "properties": {
        "creatorId": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "currency": { "type": "string" },
        "category": { "type": "string" },
        "tags": { "type": "array", "items": { "type": "string"}},
        "location": { "type": "string" },
        "duration": { "type": "string" },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" }},
        "status": { "type": "string", "enum": ["active", "pending", "archived"]},
        "rating": { "type": "number" },
        "createdAt": { "type": "string", "format": "date-time"},
        "updatedAt": { "type": "string", "format": "date-time"}
      },
      "required": ["creatorId", "title", "price", "currency"]
    },
    "product": {
      "title": "Product",
      "description": "A product sold in the shop.",
      "type": "object",
      "properties": {
        "sellerId": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "currency": { "type": "string" },
        "stock": { "type": "number" },
        "images": { "type": "array", "items": { "type": "string", "format": "uri" }},
        "type": { "type": "string", "enum": ["digital", "physical"]},
        "status": { "type": "string"},
        "createdAt": { "type": "string", "format": "date-time"},
        "updatedAt": { "type": "string", "format": "date-time"}
      },
      "required": ["sellerId", "title", "price"]
    },
    "reward": {
        "title": "Reward",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "type": { "type": "string", "enum": ["video_call", "premium_sale", "goal_reached"]},
            "pointsAwarded": { "type": "number"},
            "description": { "type": "string" },
            "createdAt": { "type": "string", "format": "date-time"},
            "status": { "type": "string", "enum": ["granted", "pending"]}
        },
        "required": ["userId", "type", "pointsAwarded"]
    },
    "referral": {
        "title": "Referral",
        "type": "object",
        "properties": {
            "referrerId": { "type": "string" },
            "referredId": { "type": "string" },
            "bonusGiven": { "type": "boolean" },
            "createdAt": { "type": "string", "format": "date-time"}
        },
        "required": ["referrerId", "referredId"]
    },
    "transaction": {
      "title": "Transaction",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "type": { "type": "string", "enum": ["deposit", "withdraw", "purchase", "subscription"] },
        "amount": { "type": "number" },
        "currency": { "type": "string" },
        "status": { "type": "string", "enum": ["completed", "pending", "failed"]},
        "reference": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time"}
      },
      "required": ["userId", "amount", "type", "createdAt"]
    },
    "message": {
      "title": "Message",
      "type": "object",
      "properties": {
        "senderId": { "type": "string" },
        "receiverId": { "type": "string" },
        "content": { "type": "string" },
        "type": { "type": "string", "enum": ["text", "image", "video"]},
        "read": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time"}
      },
      "required": ["senderId", "receiverId", "content", "createdAt"]
    },
    "wallet": {
      "title": "Wallet",
      "type": "object",
      "properties": {
        "balance": { "type": "number" },
        "transactions": { "type": "array", "items": { "type": "string"}},
        "updatedAt": { "type": "string", "format": "date-time"}
      },
      "required": ["balance"]
    },
    "analytics": {
        "title": "Analytics",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "views": { "type": "number" },
            "clicks": { "type": "number" },
            "earnings": { "type": "number" },
            "engagementScore": { "type": "number" },
            "updatedAt": { "type": "string", "format": "date-time"}
        }
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com", "password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/user" },
      "description": "Stores user profile information."
    },
    "/annonces/{annonceId}": {
      "schema": { "$ref": "#/entities/annonce" },
      "description": "Collection of all service advertisements."
    },
    "/products/{productId}": {
      "schema": { "$ref": "#/entities/product" },
      "description": "Collection of all products."
    },
    "/rewards/{rewardId}": {
      "schema": { "$ref": "#/entities/reward" },
      "description": "Tracks rewards given to users."
    },
    "/referrals/{referralId}": {
      "schema": { "$ref": "#/entities/referral" },
      "description": "Tracks user referrals."
    },
    "/transactions/{transactionId}": {
      "schema": { "$ref": "#/entities/transaction" },
      "description": "Global list of all transactions."
    },
    "/messages/{messageId}": {
      "schema": { "$ref": "#/entities/message" },
      "description": "Stores all chat messages."
    },
    "/wallets/{walletId}": {
      "schema": { "$ref": "#/entities/wallet" },
      "description": "User wallets, where walletId is the same as userId."
    },
    "/analytics/{analyticId}": {
      "schema": { "$ref": "#/entities/analytics" },
      "description": "User-specific analytics data."
    }
  }
}

    